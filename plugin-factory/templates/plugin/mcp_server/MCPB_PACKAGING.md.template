# MCPB Packaging Guide - {{Server Name}}

---

## Overview

MCPB (MCP Bundle) is a packaging format that enables one-click installation of MCP servers in Claude Desktop and other compatible applications.

---

## Prerequisites

- Node.js 18+
- `@anthropic-ai/mcpb` CLI installed

```bash
npm install -g @anthropic-ai/mcpb
```

---

## Preparing for Packaging

### 1. Verify Build

```bash
npm install
npm run build
npm run typecheck
```

### 2. Verify manifest.json

Ensure `manifest.json` is complete:

```json
{
  "name": "{{server-name}}",
  "version": "1.0.0",
  "description": "{{description}}",
  "author": "{{author}}",
  "license": "MIT",
  "mcp": {
    "command": "node",
    "args": ["dist/server/index.js"],
    "env": {}
  },
  "permissions": {
    "network": {{true/false}},
    "filesystem": {
      "read": [],
      "write": []
    }
  }
}
```

### 3. Test Locally

```bash
npm run dev
# In another terminal:
npm run inspect
# Test all tools work correctly
```

---

## Creating the Bundle

### Initialize (First Time)

```bash
mcpb init
```

This creates/updates necessary packaging files.

### Build Bundle

```bash
mcpb pack
```

This creates `{{server-name}}-1.0.0.mcpb` in the current directory.

---

## Bundle Contents

The `.mcpb` file is a ZIP archive containing:

```
{{server-name}}-1.0.0.mcpb/
├── manifest.json          # Bundle metadata
├── dist/
│   └── server/
│       └── index.js       # Compiled server
├── package.json           # Dependencies list
└── node_modules/          # Bundled dependencies
```

---

## Distribution

### GitHub Releases

1. Create a new release on GitHub
2. Attach the `.mcpb` file
3. Include installation instructions in release notes

### Direct Download

Host the `.mcpb` file and provide a download link.

### Marketplace (Future)

When Claude's marketplace is available:
1. Submit bundle for review
2. Include screenshots and documentation
3. Respond to review feedback

---

## Installation by Users

### Method 1: Double-Click

1. Download the `.mcpb` file
2. Double-click to open
3. Claude Desktop prompts for permission confirmation
4. Server is automatically configured

### Method 2: Settings Menu

1. Open Claude Desktop
2. Settings → Extensions → Install Extension
3. Select the `.mcpb` file
4. Confirm permissions

---

## Versioning

When releasing updates:

1. Update version in `package.json`
2. Update version in `manifest.json`
3. Build new bundle: `mcpb pack`
4. Create new release with the updated `.mcpb` file

---

## Troubleshooting

### "Bundle failed to create"

```bash
# Check for errors
mcpb pack --verbose

# Common issues:
# - Missing manifest.json
# - Build not run (no dist/)
# - Invalid JSON in manifest
```

### "Installation failed"

- Verify the bundle wasn't corrupted during download
- Check Claude Desktop is up to date
- Try manual installation as fallback

### "Server won't start after install"

1. Check Claude Desktop logs
2. Verify permissions in manifest.json
3. Test manually: `node dist/server/index.js`

---

## Best Practices

1. **Test the bundle before releasing**
   - Install on a clean system
   - Verify all tools work

2. **Document required permissions clearly**
   - Explain why each permission is needed
   - Users may reject unclear permissions

3. **Keep bundles small**
   - Only include necessary dependencies
   - Use `--production` for npm install

4. **Sign your releases** (when available)
   - Helps users verify authenticity

---

## Resources

- [MCPB Specification](https://github.com/modelcontextprotocol/mcpb)
- [Claude Desktop Extensions](https://www.anthropic.com/engineering/desktop-extensions)
- [MCP Bundle Format](https://blog.modelcontextprotocol.io/posts/2025-11-20-adopting-mcpb/)

---

**Generated by Plugin Factory v1.0**

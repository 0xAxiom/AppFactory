{
  "meta": {
    "run_id": "app_factory_000033",
    "idea_id": "pocket_ledger_001",
    "idea_name": "PocketLedger",
    "idea_dir": "01_pocket_ledger__pocket_ledger_001",
    "source_root": "runs/2026-01-09/app_factory_000033/ideas/01_pocket_ledger__pocket_ledger_001/",
    "input_stage_paths": [
      "runs/2026-01-09/app_factory_000033/ideas/01_pocket_ledger__pocket_ledger_001/stages/stage02.json",
      "runs/2026-01-09/app_factory_000033/ideas/01_pocket_ledger__pocket_ledger_001/meta/idea.json"
    ],
    "boundary_path": "runs/2026-01-09/app_factory_000033/ideas/01_pocket_ledger__pocket_ledger_001/meta/boundary.json"
  },
  "product_reality": {
    "domain_validation": {
      "core_objects": [
        {
          "name": "Envelope",
          "description": "Digital budget envelope containing allocated money for specific spending category with balance tracking and visual representation",
          "user_actions": ["create", "view", "edit", "delete", "allocate_money", "track_balance"],
          "data_structure": {
            "id": "string",
            "name": "string", 
            "target_amount": "number",
            "current_balance": "number",
            "created_date": "datetime",
            "category": "string",
            "icon": "string",
            "color": "string"
          }
        },
        {
          "name": "Transaction",
          "description": "Individual spending or income entry with amount, date, merchant, and envelope assignment for budget tracking",
          "user_actions": ["create", "view", "edit", "delete", "categorize", "scan_receipt"],
          "data_structure": {
            "id": "string",
            "amount": "number",
            "date": "datetime",
            "merchant": "string",
            "description": "string",
            "envelope_id": "string",
            "type": "enum[income, expense]",
            "receipt_image": "string",
            "location": "object"
          }
        },
        {
          "name": "Budget",
          "description": "Overall financial plan containing multiple envelopes with income allocation and period-based tracking",
          "user_actions": ["create", "view", "edit", "allocate_income", "track_progress"],
          "data_structure": {
            "id": "string",
            "name": "string",
            "total_income": "number",
            "period": "enum[weekly, biweekly, monthly]",
            "start_date": "datetime",
            "envelope_ids": "array",
            "goals": "array"
          }
        },
        {
          "name": "Goal",
          "description": "Financial objective linked to envelopes with progress tracking and target dates for motivation and planning",
          "user_actions": ["create", "view", "edit", "delete", "track_progress"],
          "data_structure": {
            "id": "string",
            "name": "string",
            "target_amount": "number",
            "current_amount": "number",
            "target_date": "datetime",
            "linked_envelope_id": "string",
            "type": "enum[savings, debt_payoff, purchase]"
          }
        }
      ],
      "object_relationships": [
        "Budget contains multiple Envelopes",
        "Transactions are assigned to specific Envelopes",
        "Goals can be linked to Envelopes for tracking",
        "Envelopes track running balance from Transaction assignments"
      ],
      "validation_passed": true,
      "failure_reason": null
    },
    "user_loop": {
      "create_step": {
        "action": "User creates digital envelopes for spending categories and allocates income from paycheck",
        "object_created": "Envelope",
        "user_input_required": ["envelope_name", "target_amount", "category", "visual_customization"]
      },
      "view_step": {
        "action": "User views envelope dashboard showing all budget categories with current balances and visual indicators",
        "context_provided": "Complete budget overview with envelope balances, recent transactions, and spending trends",
        "information_displayed": ["envelope_balances", "recent_transactions", "budget_progress", "low_balance_warnings"]
      },
      "interact_step": {
        "action": "User records spending by entering transaction manually or scanning receipt, then assigns to envelope",
        "modifications_possible": ["add_transaction", "edit_transaction", "transfer_between_envelopes", "adjust_envelope_amounts"],
        "tools_required": ["transaction_entry_form", "receipt_scanner", "envelope_selector"]
      },
      "resolve_step": {
        "action": "User completes spending tracking and sees updated envelope balances with spending insights and goal progress",
        "completion_criteria": "Transaction recorded, envelope balance updated, and spending pattern tracked for future budgeting",
        "value_delivered": "Accurate budget tracking with clear visibility into spending patterns and remaining envelope funds"
      },
      "loop_validation": {
        "completeness": true,
        "measurable_outcome": true,
        "immediate_value": true
      }
    },
    "mvp_scope": {
      "must_have_features": [
        {
          "feature": "Digital Envelope Creation and Management",
          "justification": "Core envelope budgeting requires creating and managing multiple spending categories with visual representation",
          "complexity": "medium"
        },
        {
          "feature": "Manual Transaction Entry",
          "justification": "Users must be able to quickly record income and expenses to maintain accurate budget tracking",
          "complexity": "low"
        },
        {
          "feature": "Envelope Balance Tracking",
          "justification": "Real-time balance updates are essential for envelope method effectiveness",
          "complexity": "medium"
        },
        {
          "feature": "Local Data Storage",
          "justification": "Privacy-first positioning requires all financial data to remain on device by default",
          "complexity": "medium"
        },
        {
          "feature": "Basic Receipt OCR",
          "justification": "Reduces transaction entry friction which is critical for consistent usage",
          "complexity": "high"
        }
      ],
      "nice_to_have_features": [
        "Advanced spending analytics",
        "Multi-device sync",
        "Automated categorization learning",
        "Goal progress visualizations",
        "Family sharing features"
      ],
      "success_criteria": "User can create envelopes, allocate income, record transactions, and see updated balances within first use session. App provides immediate value through visual budget tracking without requiring external account connections.",
      "scope_validation": {
        "achievable": true,
        "valuable": true,
        "testable": true
      }
    }
  },
  "gate_result": {
    "passed": true,
    "confidence_score": 92,
    "blocking_issues": [],
    "recommendations": [
      "Focus MVP on core envelope functionality before adding advanced features",
      "Prioritize OCR accuracy over speed for receipt scanning",
      "Design envelope interface for quick daily interactions",
      "Ensure offline functionality works seamlessly for privacy positioning"
    ]
  }
}
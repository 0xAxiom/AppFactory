{
  "app_name": "WarrantyVault",
  "error_handling_strategy": "Graceful degradation with user-friendly messages",
  "error_boundary_coverage": "All screens wrapped with error boundary component",
  "network_errors": [
    {
      "scenario": "No network on app start",
      "detection": "RevenueCat initialization timeout or NetInfo",
      "impact": "Cannot verify subscription status",
      "handling": {
        "action": "Use cached entitlement state from previous session",
        "user_message": "None - offline is expected behavior",
        "retry_strategy": "Automatic retry when network becomes available"
      }
    },
    {
      "scenario": "Network timeout during purchase",
      "detection": "RevenueCat purchase callback with network error",
      "impact": "Purchase may or may not have completed",
      "handling": {
        "action": "Show error, suggest retry, monitor for delayed receipt",
        "user_message": "Something went wrong with your purchase. Please try again or check your subscription status in Settings.",
        "retry_strategy": "Manual retry via Subscribe button"
      }
    },
    {
      "scenario": "RevenueCat API error",
      "detection": "Non-network error from RevenueCat SDK",
      "impact": "Cannot load offerings or verify entitlements",
      "handling": {
        "action": "Log error, use cached data, show fallback UI",
        "user_message": "Unable to load subscription options. Please try again later.",
        "retry_strategy": "Exponential backoff with 3 attempts"
      }
    }
  ],
  "storage_errors": [
    {
      "scenario": "AsyncStorage read failure",
      "detection": "Exception thrown during getItem",
      "impact": "Items or preferences may be unavailable",
      "handling": {
        "action": "Log error, start with empty state, offer data recovery",
        "user_message": "Unable to load your saved data. If this persists, please contact support.",
        "recovery": "Settings screen has 'Recover Data' option"
      }
    },
    {
      "scenario": "AsyncStorage write failure",
      "detection": "Exception thrown during setItem",
      "impact": "Changes may not persist",
      "handling": {
        "action": "Show error, keep data in memory, retry on next action",
        "user_message": "Unable to save. Please try again.",
        "recovery": "Automatic retry queue for failed writes"
      }
    },
    {
      "scenario": "Storage full",
      "detection": "Quota exceeded error during write",
      "impact": "Cannot save new items or images",
      "handling": {
        "action": "Alert user before save fails, suggest cleanup",
        "user_message": "Storage is full. Please delete some items or free up device space.",
        "recovery": "Guide to deleting old/expired items"
      }
    },
    {
      "scenario": "Image file corruption",
      "detection": "Image fails to load from filesystem",
      "impact": "Receipt photo unavailable",
      "handling": {
        "action": "Show placeholder, log error, offer re-capture",
        "user_message": "Unable to load this photo. You can add a new one.",
        "recovery": "Edit item to replace corrupted image"
      }
    }
  ],
  "permission_errors": [
    {
      "scenario": "Camera permission denied",
      "detection": "expo-image-picker returns permission denied",
      "impact": "Cannot capture new receipt photos",
      "handling": {
        "action": "Offer gallery picker as fallback, explain camera benefit",
        "user_message": "Camera access is needed to capture receipts. You can also select from your photo library.",
        "recovery": "Deep link to Settings to enable permission"
      }
    },
    {
      "scenario": "Notification permission denied",
      "detection": "expo-notifications permission status",
      "impact": "Cannot send expiration reminders",
      "handling": {
        "action": "Use in-app badge and visual indicators instead",
        "user_message": "Notifications are disabled. You won't receive expiration reminders, but we'll show alerts in the app.",
        "recovery": "Settings option to re-request permission"
      }
    },
    {
      "scenario": "Photo library permission denied",
      "detection": "expo-image-picker gallery access denied",
      "impact": "Cannot select existing photos",
      "handling": {
        "action": "Offer camera capture as fallback",
        "user_message": "Photo library access is needed to select existing receipts.",
        "recovery": "Deep link to Settings to enable permission"
      }
    }
  ],
  "user_input_errors": [
    {
      "scenario": "Empty product name",
      "detection": "Form validation before save",
      "impact": "Save blocked",
      "handling": {
        "action": "Inline error message below input field",
        "user_message": "Product name is required",
        "recovery": "User enters valid name"
      }
    },
    {
      "scenario": "Future purchase date",
      "detection": "Date picker validation",
      "impact": "Invalid warranty calculation",
      "handling": {
        "action": "Prevent selection of future dates",
        "user_message": "Purchase date cannot be in the future",
        "recovery": "Date picker limits to today and past"
      }
    },
    {
      "scenario": "Invalid image file",
      "detection": "Image picker returns non-image file",
      "impact": "Cannot display as receipt",
      "handling": {
        "action": "Show error, request valid image",
        "user_message": "Please select a valid image file (JPG, PNG)",
        "recovery": "User selects different file"
      }
    }
  ],
  "subscription_errors": [
    {
      "scenario": "Purchase cancelled by user",
      "detection": "RevenueCat userCancelled error",
      "impact": "No subscription created",
      "handling": {
        "action": "Dismiss paywall silently",
        "user_message": "None",
        "recovery": "User can retry from Settings"
      }
    },
    {
      "scenario": "Billing error",
      "detection": "RevenueCat purchase error (not network)",
      "impact": "Purchase failed",
      "handling": {
        "action": "Show error with support contact",
        "user_message": "There was a problem with your purchase. Please check your payment method or contact support.",
        "recovery": "Link to App Store/Play Store subscription settings"
      }
    },
    {
      "scenario": "No offerings available",
      "detection": "Empty offerings from RevenueCat",
      "impact": "Cannot display subscription options",
      "handling": {
        "action": "Show configuration error, suggest retry",
        "user_message": "Unable to load subscription options. Please try again later.",
        "recovery": "Automatic retry on app resume"
      }
    }
  ],
  "global_error_boundary": {
    "catches": "All unhandled JavaScript exceptions",
    "ui": "Full-screen error view with app icon, friendly message, and retry button",
    "message": "Something went wrong. We're sorry for the inconvenience.",
    "actions": ["Retry button to reload screen", "Contact Support link"],
    "logging": "Errors logged to crash reporting service"
  }
}

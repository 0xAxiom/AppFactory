{
  "core_objects": {
    "Envelope": {
      "description": "Digital budget envelope containing allocated money for specific spending category",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for envelope"
        },
        "name": {
          "type": "string",
          "description": "User-defined envelope name (e.g., 'Groceries', 'Gas')",
          "constraints": "1-50 characters"
        },
        "target_amount": {
          "type": "number",
          "description": "Budgeted amount for this envelope per period"
        },
        "current_balance": {
          "type": "number", 
          "description": "Current remaining balance in envelope"
        },
        "created_date": {
          "type": "datetime",
          "description": "When envelope was created"
        },
        "category": {
          "type": "string",
          "description": "Spending category (Food, Transportation, Entertainment, etc.)"
        },
        "icon": {
          "type": "string",
          "description": "Visual icon identifier for UI display"
        },
        "color": {
          "type": "string",
          "description": "Color theme for envelope visualization"
        }
      },
      "user_actions": [
        "create", "view", "edit", "delete", 
        "allocate_money", "track_balance", "transfer_funds"
      ],
      "relationships": [
        "belongs_to_budget",
        "contains_transactions", 
        "linked_to_goals"
      ]
    },
    "Transaction": {
      "description": "Individual spending or income entry with amount and envelope assignment",
      "properties": {
        "id": {
          "type": "string", 
          "description": "Unique transaction identifier"
        },
        "amount": {
          "type": "number",
          "description": "Transaction amount (positive for income, negative for expenses)"
        },
        "date": {
          "type": "datetime",
          "description": "When transaction occurred"
        },
        "merchant": {
          "type": "string",
          "description": "Store or person involved in transaction"
        },
        "description": {
          "type": "string",
          "description": "Additional transaction notes"
        },
        "envelope_id": {
          "type": "string",
          "description": "Which envelope this transaction is assigned to"
        },
        "type": {
          "type": "enum",
          "values": ["income", "expense"],
          "description": "Transaction type for categorization"
        },
        "receipt_image": {
          "type": "string",
          "description": "Base64 or file path to scanned receipt"
        },
        "location": {
          "type": "object",
          "properties": {
            "latitude": "number",
            "longitude": "number",
            "address": "string"
          },
          "description": "Optional location data for transaction"
        }
      },
      "user_actions": [
        "create", "view", "edit", "delete",
        "categorize", "scan_receipt", "add_notes"
      ],
      "relationships": [
        "assigned_to_envelope",
        "affects_budget_balance"
      ]
    },
    "Budget": {
      "description": "Overall financial plan containing multiple envelopes with income allocation",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique budget identifier"
        },
        "name": {
          "type": "string",
          "description": "Budget name (e.g., 'January 2026', 'Family Budget')"
        },
        "total_income": {
          "type": "number",
          "description": "Total income amount for budget period"
        },
        "period": {
          "type": "enum",
          "values": ["weekly", "biweekly", "monthly"],
          "description": "Budget period frequency"
        },
        "start_date": {
          "type": "datetime",
          "description": "Budget period start date"
        },
        "envelope_ids": {
          "type": "array",
          "items": "string",
          "description": "List of envelope IDs in this budget"
        },
        "goals": {
          "type": "array",
          "description": "Associated financial goals"
        }
      },
      "user_actions": [
        "create", "view", "edit", 
        "allocate_income", "track_progress", "reset_period"
      ],
      "relationships": [
        "contains_envelopes",
        "tracks_goals",
        "summarizes_transactions"
      ]
    },
    "Goal": {
      "description": "Financial objective linked to envelopes with progress tracking",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique goal identifier" 
        },
        "name": {
          "type": "string",
          "description": "Goal name (e.g., 'Emergency Fund', 'Vacation')"
        },
        "target_amount": {
          "type": "number",
          "description": "Target amount to achieve"
        },
        "current_amount": {
          "type": "number",
          "description": "Current progress toward goal"
        },
        "target_date": {
          "type": "datetime",
          "description": "Goal deadline"
        },
        "linked_envelope_id": {
          "type": "string",
          "description": "Envelope that contributes to this goal"
        },
        "type": {
          "type": "enum",
          "values": ["savings", "debt_payoff", "purchase"],
          "description": "Type of financial goal"
        }
      },
      "user_actions": [
        "create", "view", "edit", "delete",
        "track_progress", "adjust_target"
      ],
      "relationships": [
        "linked_to_envelope",
        "part_of_budget"
      ]
    }
  },
  "object_relationships": {
    "Budget_to_Envelope": "one-to-many",
    "Envelope_to_Transaction": "one-to-many", 
    "Budget_to_Goal": "one-to-many",
    "Envelope_to_Goal": "many-to-one",
    "Transaction_to_Envelope": "many-to-one"
  },
  "data_flow": {
    "income_allocation": "Budget -> Envelopes (target amounts)",
    "spending_tracking": "Transactions -> Envelopes (balance updates)",
    "goal_progress": "Envelope balances -> Goals (progress calculation)",
    "budget_analysis": "Transactions -> Budget (spending summaries)"
  },
  "validation_rules": {
    "envelope_balance": "current_balance >= 0 (optional overdraft warnings)",
    "budget_allocation": "sum(envelope_targets) <= total_income",
    "transaction_assignment": "every transaction must be assigned to envelope",
    "goal_progress": "current_amount <= target_amount"
  }
}
{
  "meta": {
    "run_id": "20260109_201044_app_factory_run",
    "idea_id": "warrantyvault_002",
    "idea_name": "WarrantyVault",
    "idea_dir": "02_warrantyvault__warrantyvault_002",
    "source_root": "runs/2026-01-09/20260109_201044_app_factory_run/ideas/02_warrantyvault__warrantyvault_002/",
    "input_stage_paths": [
      "runs/2026-01-09/20260109_201044_app_factory_run/ideas/02_warrantyvault__warrantyvault_002/stages/stage02.json",
      "runs/2026-01-09/20260109_201044_app_factory_run/ideas/02_warrantyvault__warrantyvault_002/stages/stage03.json",
      "runs/2026-01-09/20260109_201044_app_factory_run/ideas/02_warrantyvault__warrantyvault_002/stages/stage04.json",
      "runs/2026-01-09/20260109_201044_app_factory_run/ideas/02_warrantyvault__warrantyvault_002/stages/stage05.json"
    ],
    "boundary_path": "runs/2026-01-09/20260109_201044_app_factory_run/ideas/02_warrantyvault__warrantyvault_002/meta/boundary.json"
  },
  "builder_handoff": {
    "implementation_priorities": {
      "phase_1_mvp": {
        "features": [
          "Project scaffolding with Expo SDK 52",
          "Tab navigation (Dashboard, Add, Settings)",
          "Item data model and AsyncStorage persistence",
          "Add Item screen with camera/gallery picker",
          "Dashboard with status-grouped item list",
          "Item Detail screen with receipt viewer",
          "Local notifications for expiration alerts",
          "RevenueCat SDK integration and paywall",
          "10-item limit enforcement for free tier",
          "Settings screen with restore purchases"
        ],
        "acceptance_criteria": [
          "User can add item with receipt photo and warranty details",
          "Dashboard displays items grouped by expiring/active/expired",
          "Notifications fire 30 days before expiration",
          "Paywall appears when adding 11th item",
          "Subscription unlocks unlimited items",
          "Restore purchases successfully recovers entitlement",
          "All data persists across app restarts",
          "App runs on iOS 15+ and Android 10+"
        ],
        "estimated_effort": "Phase 1 MVP includes 6 core screens and 3 integration points (storage, notifications, subscriptions)",
        "critical_dependencies": [
          "expo-router v4 for navigation",
          "expo-image-picker for camera access",
          "expo-notifications for alerts",
          "react-native-purchases for RevenueCat",
          "@react-native-async-storage/async-storage for persistence"
        ]
      },
      "phase_2_enhancement": {
        "features": [
          "Cloud backup with Firebase Firestore (premium)",
          "PDF export for insurance documentation (premium)",
          "Custom categories and tags (premium)",
          "Multiple documents per item (premium)",
          "Dark mode support",
          "Onboarding flow refinement",
          "Search and filter functionality"
        ],
        "rationale": "Premium features require additional infrastructure (Firebase) and add significant value for power users. Dark mode and search improve UX for all users.",
        "success_metrics": [
          "Premium conversion rate > 8%",
          "Cloud sync adoption > 50% of premium users",
          "PDF export usage tracked",
          "Dark mode adoption > 30%"
        ]
      }
    },
    "technical_requirements": {
      "development_environment": {
        "node_version": ">=18.0.0 LTS",
        "expo_cli_version": "expo@latest (npx expo)",
        "required_tools": [
          "Node.js 18+ LTS",
          "Expo CLI (npx expo)",
          "EAS CLI (npm install -g eas-cli)",
          "Xcode 15+ (iOS development)",
          "Android Studio (Android development)",
          "VS Code with ESLint + Prettier"
        ],
        "setup_instructions": [
          "1. Clone repository",
          "2. npm install",
          "3. Copy .env.example to .env and add RevenueCat keys",
          "4. npx expo start --dev-client",
          "5. Install on device via Expo Go or development build"
        ]
      },
      "dependency_management": {
        "package_manager": "npm",
        "critical_dependencies": [
          "expo@~52.0.0",
          "expo-router@^4.0.0",
          "react-native-purchases@^9.0.0",
          "expo-image-picker@~16.0.0",
          "expo-notifications@~0.29.0",
          "@react-native-async-storage/async-storage@^2.0.0",
          "date-fns@^3.0.0"
        ],
        "version_constraints": [
          "All expo-* packages must match SDK 52 compatibility",
          "Run npx expo install --check before committing",
          "Lock file committed to ensure reproducible builds"
        ]
      },
      "build_configuration": {
        "eas_config": "eas.json with development, preview, and production profiles",
        "environment_variables": [
          "REVENUECAT_IOS_KEY - RevenueCat iOS API key",
          "REVENUECAT_ANDROID_KEY - RevenueCat Android API key",
          "FIREBASE_CONFIG - Firebase configuration (Phase 2)"
        ],
        "build_profiles": [
          "development - Local testing with dev client",
          "preview - Internal distribution for QA",
          "production - Store submission builds"
        ]
      }
    },
    "quality_requirements": {
      "testing_strategy": {
        "unit_test_coverage": "Business logic utilities (date calculations, item validation, storage helpers) - minimum 80% coverage",
        "critical_user_flows": [
          "Add first item with receipt photo",
          "View item detail and countdown",
          "Receive and tap notification",
          "Hit item limit and see paywall",
          "Complete purchase flow",
          "Restore purchases successfully"
        ],
        "testing_framework": "Jest for unit tests, React Native Testing Library for component integration, Detox for E2E",
        "test_environment_setup": "Mock AsyncStorage and RevenueCat SDK in tests. Use RevenueCat sandbox for integration testing."
      },
      "performance_criteria": {
        "app_startup_time": "< 2 seconds to interactive dashboard on mid-range device",
        "memory_usage_limits": "< 150MB typical usage, < 300MB with large image gallery",
        "network_efficiency": "Minimal network usage in free tier (local only). Premium sync batched efficiently.",
        "battery_impact": "Background notification scheduling only. No persistent background processes."
      },
      "accessibility_validation": {
        "screen_reader_testing": "Test with VoiceOver (iOS) and TalkBack (Android). All interactive elements labeled.",
        "keyboard_navigation": "External keyboard support for iPad. Logical focus order on all screens.",
        "color_contrast_validation": "All text meets 4.5:1 minimum. Status colors have secondary indicators.",
        "dynamic_type_testing": "Test at maximum text size. UI remains usable up to 200% scale."
      }
    },
    "deployment_specification": {
      "development_builds": {
        "testing_process": "EAS Build development profile → Install on physical devices → Test all flows → Log issues",
        "stakeholder_review": "Preview builds shared via TestFlight / Internal Testing track for stakeholder review",
        "feedback_integration": "Issues tracked in GitHub. Prioritized by severity. Fixed in subsequent builds."
      },
      "store_preparation": {
        "ios_requirements": {
          "app_store_connect_setup": "Create app record, configure App Privacy, prepare screenshots",
          "submission_checklist": [
            "App icon 1024x1024 PNG",
            "6.5 inch screenshots (required)",
            "5.5 inch screenshots (required)",
            "iPad screenshots (if universal)",
            "App Privacy questionnaire completed",
            "Subscription disclosure in description",
            "Privacy policy URL",
            "Support URL"
          ],
          "review_preparation": "Demo account not required (guest-first). Subscription testing instructions in review notes."
        },
        "android_requirements": {
          "play_console_setup": "Create app record, complete Data Safety section, prepare graphics",
          "submission_checklist": [
            "Hi-res icon 512x512 PNG",
            "Feature graphic 1024x500",
            "Phone screenshots (required)",
            "7-inch tablet screenshots",
            "10-inch tablet screenshots",
            "Data Safety questionnaire completed",
            "Privacy policy URL",
            "Content rating questionnaire"
          ],
          "review_preparation": "Internal testing track for initial review. Subscription explained in release notes."
        }
      },
      "monitoring_setup": {
        "analytics_configuration": "Firebase Analytics with screen tracking, conversion events (add_item, paywall_shown, purchase_complete)",
        "crash_reporting": "Firebase Crashlytics integrated. Crash-free rate target: > 99.5%",
        "performance_monitoring": "Firebase Performance Monitoring for startup time and network latency tracking"
      }
    },
    "documentation_requirements": {
      "technical_documentation": {
        "architecture_overview": "README with project structure, technology stack, and key decisions",
        "api_documentation": "TypeScript types serve as primary documentation. Key interfaces documented inline.",
        "setup_guide": "CONTRIBUTING.md with environment setup, development workflow, and build instructions"
      },
      "user_documentation": {
        "feature_documentation": "In-app help tooltips for key features. FAQ section in Settings.",
        "troubleshooting_guide": "Common issues addressed in FAQ: notification permissions, restore purchases, data backup",
        "privacy_policy": "Standard privacy policy covering: data collected, storage, sharing, user rights",
        "terms_of_service": "Standard terms covering: subscription terms, user responsibilities, limitations"
      }
    },
    "maintenance_planning": {
      "update_strategy": {
        "ota_updates": "EAS Update for JavaScript-only fixes. Fast turnaround for critical bugs.",
        "binary_updates": "Full build for native changes. Submit through standard review process.",
        "version_planning": "Semantic versioning. Minor releases monthly. Major releases for significant features."
      },
      "monitoring_alerts": {
        "error_thresholds": "Alert if crash rate exceeds 0.5% or error rate exceeds 1%",
        "performance_degradation": "Alert if startup time exceeds 3 seconds or API latency exceeds 2 seconds",
        "subscription_issues": "Monitor RevenueCat dashboard for billing errors, failed renewals, high refund rates"
      },
      "support_preparation": {
        "user_support_channels": "Email support via Settings > Contact Support. Response within 48 hours.",
        "escalation_procedures": "Critical bugs escalated immediately. Store reviews monitored daily.",
        "known_issues_tracking": "GitHub Issues for bug tracking. User-facing known issues in FAQ."
      }
    }
  },
  "revenuecat_verification": {
    "sdk_installed": true,
    "initialization_configured": true,
    "entitlement_model_defined": true,
    "paywall_accessible": true,
    "purchase_restore_implemented": true,
    "feature_gating_active": true,
    "debug_confirmation_available": true,
    "empty_offerings_handled": true
  }
}

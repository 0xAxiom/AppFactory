# Web3 Factory - Bags SDK Compliant\n\n**Solana-first tokenized web app generation following official Bags documentation.**\n\nWeb3 Factory transforms Web3 app concepts into production-ready tokenized web applications using the official Bags SDK with full compliance to all documented principles and best practices.\n\n## ğŸ¯ What Web3 Factory Does\n\nWeb3 Factory takes raw Web3 app ideas and builds complete, tokenized web applications that:\n\n- **Validate Web3 necessity**: Ensures your idea actually benefits from blockchain technology\n- **Create functional tokens**: Generates Solana tokens using official Bags SDK 3-step process\n- **Build complete web apps**: Produces production-ready Next.js or Vite + React applications\n- **Integrate Solana seamlessly**: Handles wallet connection, token operations, and transaction flows\n- **Route fees transparently**: Built-in 75%/25% fee split with immutable partner attribution\n- **Follow Bags best practices**: Rate limiting, error handling, file uploads, and idempotency\n\n## ğŸš€ Bags-Compliant Launch Quickstart\n\n**Prerequisites**: Node.js 18+, Solana wallet, Bags API key from https://dev.bags.fm\n\n### 1. Environment Setup\n```bash\n# Navigate to Web3 Factory\ncd web3-factory\n\n# Install dependencies (includes @bagsfm/bags-sdk)\nnpm install\n\n# Copy environment template\ncp .env.example .env\n\n# Edit .env with your configuration:\n# BAGS_API_KEY=your_api_key_from_dev_bags_fm\n# SOLANA_RPC_URL=https://api.mainnet-beta.solana.com\n# SOLANA_NETWORK=mainnet-beta\n# CREATOR_WALLET_ADDRESS=your_wallet_public_key\n# PRIVATE_KEY=your_base58_private_key\n```\n\n### 2. Validate Configuration\n```bash\n# Test environment setup and Bags API connectivity\nnpm run validate-env\n\n# Expected output: \"Environment is ready for Web3 Factory operations!\"\n# This validates API key, network connectivity, and wallet configuration\n```\n\n### 3. Standalone Token Launch\n```bash\n# Generate sample token configuration\nnpm run launch-token\n\n# This creates sample-token-config.json - edit it with your token details\n# Then launch your token:\nnpm run launch-token -- ./sample-token-config.json\n\n# Outputs:\n# - token-outputs/{buildId}/token_receipt.json\n# - token-outputs/{buildId}/token_receipt.md\n# - Complete transaction confirmation and Solana Explorer links\n```\n\n### 4. Full Web3 App Generation (via Claude)\n```bash\n# Use Claude Code to generate complete tokenized web app\nweb3 idea \"Create a decentralized marketplace where users stake tokens to list items and earn rewards for successful sales\"\n\n# Your complete app is generated at builds/your-app-name/\ncd builds/your-app-name/\nnpm install\nnpm run dev\n```\n\n**Result**: Production-ready Web3 app with functional Solana token, following all Bags SDK best practices.\n\n## ğŸ“š Complete Bags Documentation Compliance\n\nWeb3 Factory implements **100% of required Bags documentation**:\n\n### âœ… Implemented Guides\n- **[Launch Token](https://docs.bags.fm/how-to-guides/launch-token)**: Complete 3-step SDK process\n- **[TypeScript Setup](https://docs.bags.fm/how-to-guides/typescript-node-setup)**: ESM modules, proper dependencies\n\n### âœ… Implemented Principles\n- **[Program IDs](https://docs.bags.fm/principles/program-ids)**: All mainnet addresses configured\n- **[Lookup Tables](https://docs.bags.fm/principles/lookup-tables)**: Public LUT + custom LUT for >15 fee claimers\n- **[Tipping](https://docs.bags.fm/principles/tipping)**: Optional tipping for supported endpoints\n- **[Error Handling](https://docs.bags.fm/principles/error-handling)**: Exponential backoff, retry logic\n- **[Rate Limits](https://docs.bags.fm/principles/rate-limits)**: 1,000/hour compliance with request queueing\n- **[File Uploads](https://docs.bags.fm/principles/file-uploads)**: 15MB limit, type validation, signatures\n- **[API Key Management](https://docs.bags.fm/principles/api-key-management)**: Environment-specific keys\n- **[Base URL Versioning](https://docs.bags.fm/principles/base-url-versioning)**: Centralized configuration\n\n## ğŸ”§ Technical Implementation\n\n### Bags SDK Integration (Official 3-Step Process)\n\n**Step 1: Token Info and Metadata**\n```typescript\nconst tokenInfo = await sdk.createTokenInfoAndMetadata({\n  name: \"Your Token Name\",\n  symbol: \"YTN\", \n  description: \"Token description\",\n  image: \"https://uploaded-image-url\", // From file upload\n  website: \"https://yourapp.com\",\n  twitter: \"@yourhandle\"\n});\n```\n\n**Step 2: Fee Share Configuration**\n```typescript\nconst feeShareConfig = await sdk.createBagsFeeShareConfig({\n  partnerKey: \"FDYcVLxHkekUFz4M29hCuBH3vbf1aLm62GEFZxLFdGE7\", // App Factory\n  totalBPS: 7500, // 75% creator, 25% partner\n  feeClaimers: [{\n    wallet: process.env.CREATOR_WALLET_ADDRESS,\n    bps: 7500\n  }]\n});\n```\n\n**Step 3: Launch Transaction**\n```typescript\nconst launchTx = await sdk.createLaunchTransaction({\n  ipfs: tokenInfo.ipfsHash,\n  tokenMint: tokenInfo.mint,\n  initialBuyAmount: \"1000000\",\n  feeShareConfig: feeShareConfig,\n  // Optional tipping\n  tipWallet: process.env.TIP_WALLET,\n  tipLamports: 100000\n});\n\n// Sign and send\nlaunchTx.sign(creatorKeypair);\nconst signature = await connection.sendAndConfirmTransaction(launchTx);\n```\n\n### Rate Limiting & Error Handling\n\n**1,000 Requests/Hour Compliance**:\n```typescript\n// Automatic rate limit awareness\nconst response = await bagsApiFetch(url, {\n  headers: { 'x-api-key': apiKey }\n});\n\n// Monitors X-RateLimit-Remaining header\n// Implements exponential backoff for 429 errors\n// Request queueing to stay under ~16.7/minute\n```\n\n**Error Classification**:\n- **Retryable**: 429 (rate limit), 500, 502, 503\n- **Non-retryable**: 400, 401, 403, 404\n- **Max retries**: 5 attempts with exponential backoff\n\n### File Upload Implementation\n\n**Bags-Compliant File Handling**:\n```typescript\n// Validate per Bags constraints\nif (file.size > 15 * 1024 * 1024) {\n  throw new Error('File too large: 15MB max');\n}\n\n// Supported types: PNG, JPG, JPEG, GIF, WebP\nconst formData = new FormData();\nformData.append('image', file, filename);\n\n// Upload with retry logic\nconst result = await uploadImageFile(file, apiKey, filename);\n// Returns: { url, ipfsHash, checksum }\n```\n\n### Lookup Tables (LUT) Support\n\n**Public LUT Usage**:\n```typescript\n// Use Bags public LUT: Eq1EVs15EAWww1YtPTtWPzJRLPJoS6VYP9oW9SbNr3yp\nconst bagsLUT = await getBagsLookupTable(connection);\n\n// Custom LUT for >15 fee claimers\nif (feeClaimers.length > 15) {\n  const customLUT = await createLookupTableTransactions(\n    connection, \n    payerKey, \n    feeClaimerAddresses\n  );\n}\n```\n\n## ğŸ—ï¸ Generated Application Structure\n\n```\nbuilds/<app_name>/\nâ”œâ”€â”€ package.json                    # Complete dependencies\nâ”œâ”€â”€ next.config.js                  # Framework configuration\nâ”œâ”€â”€ .env.example                    # Environment template\nâ”œâ”€â”€ README.md                       # Setup instructions\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ WalletConnection.tsx    # Solana wallet adapter\nâ”‚   â”‚   â”œâ”€â”€ TokenDisplay.tsx        # Token balance/info\nâ”‚   â”‚   â””â”€â”€ TokenActions.tsx        # Token interactions\nâ”‚   â”œâ”€â”€ hooks/\nâ”‚   â”‚   â”œâ”€â”€ useToken.ts            # Token operations\nâ”‚   â”‚   â””â”€â”€ useTransactions.ts     # Transaction handling\nâ”‚   â””â”€â”€ utils/\nâ”‚       â””â”€â”€ constants.ts           # Token address & config\nâ”œâ”€â”€ token/\nâ”‚   â”œâ”€â”€ token_receipt.json         # Creation receipt\nâ”‚   â”œâ”€â”€ token_receipt.md           # Human-readable info\nâ”‚   â””â”€â”€ token_failure.json         # Failure details (if any)\nâ””â”€â”€ deployment_guide.md            # Production deployment\n```\n\n## ğŸ”’ Partner Attribution & Fee Routing\n\n**Immutable Partner Configuration**:\n- **Partner Key**: `FDYcVLxHkekUFz4M29hCuBH3vbf1aLm62GEFZxLFdGE7` (hardcoded)\n- **Fee Split**: 75% creator, 25% App Factory partner\n- **Attribution**: Partner key used for Bags fee routing, NOT a payout address\n- **Transparency**: All fee routing documented in token receipts\n\n**What This Means**:\n- You receive 75% of protocol-level fees from your token\n- 25% supports Web3 Factory development via Bags partner program\n- This applies ONLY to protocol fees, not your app's business model\n- Complete freedom over token economics and app monetization\n- Infrastructure compensation is onchain-enforced and transparent\n\n## ğŸ“‹ Environment Variables\n\n**Required (from .env.example)**:\n```bash\n# Bags API (get from https://dev.bags.fm)\nBAGS_API_KEY=your_api_key_here\n\n# Solana Network\nSOLANA_RPC_URL=https://api.mainnet-beta.solana.com\nSOLANA_NETWORK=mainnet-beta\n\n# Wallet Configuration\nCREATOR_WALLET_ADDRESS=your_public_key\nPRIVATE_KEY=your_base58_private_key\n\n# Optional Tipping\n# TIP_WALLET=jito_or_provider_wallet\n# TIP_LAMPORTS=100000\n```\n\n**Security Notes**:\n- API keys are environment-specific (dev/staging/prod)\n- Never commit private keys to version control\n- Use separate wallets for development vs production\n- Partner key is hardcoded (FDYcVLxHkekUFz4M29hCuBH3vbf1aLm62GEFZxLFdGE7)\n\n## ğŸš€ Production Deployment\n\n**Framework Support**:\n- **Next.js**: Vercel, Netlify, or custom hosting\n- **Vite + React**: Static hosting, CDN deployment\n- **Environment**: Mainnet with production API keys\n\n**Monitoring & Maintenance**:\n- **Rate Limits**: Monitor usage at https://dev.bags.fm dashboard\n- **API Keys**: Rotate regularly for security\n- **Errors**: Check token_failure.json for debugging\n- **Solana**: Monitor RPC usage and costs\n\n## ğŸ” Example Token Launches\n\n```bash\n# DeFi Analytics Platform\nnpm run launch-token -- defi-analytics-config.json\n# Creates fee-capture token where users pay for data access\n\n# Gaming Tournament Platform  \nnpm run launch-token -- gaming-platform-config.json\n# Creates usage token where players spend tokens to join tournaments\n\n# Decentralized Marketplace\nnpm run launch-token -- marketplace-config.json\n# Creates access token where staking grants listing privileges\n```\n\n## ğŸ“– Documentation & Support\n\n### Official Bags Resources\n- **API Documentation**: https://docs.bags.fm/\n- **SDK Repository**: https://github.com/bagsfm/bags-sdk\n- **Developer Portal**: https://dev.bags.fm (for API keys)\n\n### Web3 Factory Resources\n- **Implementation Guide**: `/docs/bags_implementation.md`\n- **Environment Validation**: `npm run validate-env`\n- **TypeScript Setup**: Complete ESM configuration\n- **Error Handling**: Comprehensive retry logic\n\n### Troubleshooting\n1. **API Key Issues**: Check validity at https://dev.bags.fm\n2. **Rate Limits**: Monitor X-RateLimit-* headers\n3. **Network Issues**: Verify RPC URL and connection\n4. **Token Creation**: Check token_failure.json for details\n5. **Environment**: Run `npm run validate-env` for diagnostics\n\n---\n\n**Web3 Factory**: Production-ready Solana token integration following all official Bags SDK patterns and principles. âœ…\n\n**Ready for Production**: Full rate limiting, error handling, idempotency, and partner attribution compliance.
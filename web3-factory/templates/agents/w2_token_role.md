# W2: Token Role Definition

## AGENT-NATIVE EXECUTION
You are Claude executing W2 for Web3 Factory. Define the token's exact role and economics for the validated Web3 app concept.

## TOKEN ROLE SELECTION (MANDATORY)

Choose EXACTLY ONE primary token role:

### 1. ACCESS
Token grants access to app features or content
- Example: Pay tokens to unlock premium features
- Supply: Usually deflationary or fixed
- Behavior: Users spend tokens to access functionality

### 2. USAGE  
Token consumed during app usage/transactions
- Example: Pay tokens per API call, per transaction, per action
- Supply: Can be inflationary with burn mechanisms
- Behavior: Users spend tokens for each use

### 3. FEE CAPTURE
Token holders receive fees generated by the app
- Example: Revenue sharing with token holders
- Supply: Usually fixed with distribution mechanisms
- Behavior: Users hold tokens to earn fees

### 4. SETTLEMENT
Token used as settlement layer for app transactions
- Example: All trades/payments denominated in the token
- Supply: Stable supply with predictable inflation
- Behavior: Users transact in the token

### 5. GOVERNANCE-LITE
Token grants voting rights on simple app parameters
- Example: Vote on fee rates, feature priorities
- Supply: Usually fixed with delegation mechanisms  
- Behavior: Users hold tokens to participate in decisions

**RULE**: Choose ONE primary role. Secondary characteristics are allowed but must be clearly subordinate.

## INPUTS
- Read: `web3-factory/runs/.../w1/web3_idea.json`

## OUTPUTS
- Write: `web3-factory/runs/.../w2/token_model.json`
- Write: `web3-factory/runs/.../w2/w2_execution.md`

## JSON SCHEMA
```json
{
  "type": "object",
  "properties": {
    "token_definition": {
      "type": "object",
      "properties": {
        "token_name": {"type": "string"},
        "token_symbol": {"type": "string"},
        "primary_role": {"enum": ["access", "usage", "fee_capture", "settlement", "governance_lite"]},
        "role_description": {"type": "string"},
        "functional_purpose": {"type": "string"}
      },
      "required": ["token_name", "token_symbol", "primary_role", "role_description", "functional_purpose"]
    },
    "supply_model": {
      "type": "object",
      "properties": {
        "total_supply": {"type": "string"},
        "supply_type": {"enum": ["fixed", "mint_on_use", "hybrid"]},
        "inflation_rate": {"type": "string"},
        "burn_mechanism": {"type": "string"},
        "supply_justification": {"type": "string"}
      },
      "required": ["total_supply", "supply_type", "inflation_rate", "burn_mechanism", "supply_justification"]
    },
    "ownership_model": {
      "type": "object",
      "properties": {
        "initial_distribution": {"type": "object"},
        "creator_allocation": {"type": "string"},
        "user_acquisition": {"type": "string"},
        "vesting_schedule": {"type": "string"}
      },
      "required": ["initial_distribution", "creator_allocation", "user_acquisition", "vesting_schedule"]
    },
    "fee_routing": {
      "type": "object",
      "properties": {
        "app_creator_percentage": {"type": "number", "enum": [75]},
        "app_factory_percentage": {"type": "number", "enum": [25]},
        "fee_types": {"type": "array", "items": {"type": "string"}},
        "routing_mechanism": {"type": "string"},
        "enforcement_method": {"type": "string"}
      },
      "required": ["app_creator_percentage", "app_factory_percentage", "fee_types", "routing_mechanism", "enforcement_method"]
    },
    "app_behavior": {
      "type": "object",
      "properties": {
        "zero_token_fallback": {"type": "string"},
        "minimum_balance_required": {"type": "string"},
        "token_earning_mechanisms": {"type": "array", "items": {"type": "string"}},
        "spending_triggers": {"type": "array", "items": {"type": "string"}}
      },
      "required": ["zero_token_fallback", "minimum_balance_required", "token_earning_mechanisms", "spending_triggers"]
    }
  },
  "required": ["token_definition", "supply_model", "ownership_model", "fee_routing", "app_behavior"]
}
```

## EXECUTION STEPS

### 1. Analyze App Requirements
From W1 output:
- Identify onchain state requirements
- Map user behaviors to token interactions
- Determine transaction patterns and frequency

### 2. Select Primary Token Role
Choose the ONE role that best serves the app's function:
- **ACCESS**: If app has gated features/content
- **USAGE**: If users perform discrete, paid actions
- **FEE CAPTURE**: If app generates revenue to share
- **SETTLEMENT**: If app mediates value exchange
- **GOVERNANCE-LITE**: If users need decision-making power

Document why this role was chosen over alternatives.

### 3. Define Supply Economics
Based on chosen role:
- **Fixed Supply**: For store-of-value or governance tokens
- **Mint-on-Use**: For usage tokens that scale with adoption
- **Hybrid**: For complex models with both fixed and variable components

Include inflation/deflation mechanisms and burn schedules.

### 4. Configure Fee Routing (MANDATORY)
Every token MUST implement:
- **75% protocol fees → app creator**
- **25% protocol fees → App Factory partner**

Define:
- What constitutes a protocol fee
- How routing is enforced (onchain vs. offchain)
- Technical implementation method

### 5. Design App Integration
Specify how the token affects app behavior:
- What happens if user has zero tokens?
- Minimum balance requirements for functionality
- How users earn tokens through app usage
- What actions trigger token spending

## TOKEN ROLE GUIDELINES

### ACCESS Tokens
- Users acquire tokens to unlock features
- Spending should be infrequent but meaningful
- Consider time-based access vs. permanent unlocks
- Ensure core app function remains available without tokens

### USAGE Tokens  
- Users spend tokens for each action/transaction
- Pricing should be predictable and reasonable
- Consider bulk purchase discounts
- Provide free allowance for new users

### FEE CAPTURE Tokens
- Token holders receive proportional revenue share
- Define clearly what revenue is shared
- Implement sustainable distribution mechanisms
- Ensure token holders have skin in the game

### SETTLEMENT Tokens
- All app transactions denominated in token
- Price stability mechanisms may be needed
- Consider volatility impact on user experience
- Provide clear token acquisition paths

### GOVERNANCE-LITE Tokens
- Focus on simple, meaningful decisions
- Avoid complex voting mechanisms
- Consider delegation for inactive holders
- Ensure decisions actually affect app behavior

## SUCCESS CRITERIA

W2 is successful when:
- [ ] Primary token role clearly selected and justified
- [ ] Supply model aligned with token role and app behavior
- [ ] Fee routing (90%/10%) explicitly configured
- [ ] App behavior with/without tokens clearly defined
- [ ] Token economics support app sustainability
- [ ] Token serves functional purpose, not speculation

## FAILURE CONDITIONS

STOP execution if:
- Cannot identify clear primary token role
- Token economics do not support app functionality
- Fee routing cannot be implemented
- App behavior without tokens is undefined
- Token model is purely speculative

Write detailed failure analysis explaining economic model issues.

DO NOT output JSON in chat. Write all artifacts to disk only.